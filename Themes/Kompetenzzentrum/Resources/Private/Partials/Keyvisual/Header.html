<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

    <f:section name="Default">

        <f:if condition="{f:cObject(typoscriptObjectPath: \'lib.txRkwTemplate.headerImage\')}">
            <f:then>
                <div class="header-container {f:if(condition: '{data.abstract}', then: 'header-container--secondary', else: '')}" style="background-image: url('{f:uri.image(src:'{f:cObject(typoscriptObjectPath: \'lib.txRkwTemplate.headerImage\')}',treatIdAsReference:'1',width:'2000',cropVariant:'default')}');">
                    <header class="page-headings">
                        <f:render section="Sub" arguments="{_all}"/>
                    </header>
                </div>
            </f:then>
            <f:else>
                <header class="page-headings page-headings--no-image">
                    <f:render section="Sub" arguments="{_all}"/>
                </header>
            </f:else>
        </f:if>
    </f:section>


    <f:section name="Sub">

        <h1 id="article-headline">
            <f:format.raw><f:format.crop maxCharacters="100" respectWordBoundaries="false">{data.title}</f:format.crop></f:format.raw>
        </h1>
        <f:if condition="{data.abstract}">
            <f:then>
                <f:format.crop maxCharacters="300" respectWordBoundaries="true"><f:format.html>{data.abstract}</f:format.html></f:format.crop>
            </f:then>
            <f:else>
                <f:if condition="{data.subtitle}">
                    <h2 class="desktop-text">
                        <f:format.crop maxCharacters="150" respectWordBoundaries="false"><f:format.raw>{data.subtitle}</f:format.raw></f:format.crop>
                    </h2>
                </f:if>
            </f:else>
        </f:if>
    </f:section>
</html>



