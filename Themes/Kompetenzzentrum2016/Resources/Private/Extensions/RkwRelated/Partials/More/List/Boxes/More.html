{namespace rkw=RKW\RkwRelated\ViewHelpers}

<div class="box-wrapper">
	<!--
	Beim Form-Feld "pluginName" könnte man noch mit der Variable {currentPluginName} arbeiten. Beim Feld
	"additionalParams" funktioniert hingegen kein "tx_rkwrelated_{currentPluginName}", weswegen daher nun
	mit Conditions für das jeweilige Plugin gearbeitet wird. Den öffnenden Tag des Fluid-Links kann man in sich
	leider nicht schachteln, weswegen der gesamte Block als Ganzes geschachtelt werden muss
	-->
	<!-- Plugin 1 link: Morecontent -->
	<f:if condition="{currentPluginName} == 'Morecontent'">
		<f:link.action action="list" controller="More" extensionName="RkwRelated" pluginName="Morecontent" id="more-link-{pageNumber}" class="box help ajax next-page small {f:if(condition: '{settingsArray.disabledAutoLoad} == 1', then: '', else: 'autoload')}" title="<f:translate key='partials_more_boxes_more.show_more' extensionName='RkwRelated' />" rel="nofollow" target="_blank" additionalParams="{tx_rkwrelated_morecontent: '{pageNumber: pageNumber, ttContentUid: ttContentUid, filter: filter}'}" additionalAttributes="{data-page-type: '{pageTypeAjax}'}" >
			<header>
				<p>
					<f:translate key="partials_more_boxes_more.morebox1" extensionName="RkwRelated" />
					<br>
					<strong>
						<f:translate key="partials_more_boxes_more.morebox2" extensionName="RkwRelated" />
					</strong>
				</p>
			</header>
		</f:link.action>
	</f:if>
	<!-- Plugin 2 link: Morecontent2 -->
	<f:if condition="{currentPluginName} == 'Morecontent2'">
		<f:link.action action="list" controller="More" extensionName="RkwRelated" pluginName="Morecontent2" id="more-link-{pageNumber}" class="box help ajax next-page small {f:if(condition: '{settingsArray.disabledAutoLoad} == 1', then: '', else: 'autoload')}" title="<f:translate key='partials_more_boxes_more.show_more' extensionName='RkwRelated' />" rel="nofollow" target="_blank" additionalParams="{tx_rkwrelated_morecontent2: '{pageNumber: pageNumber, ttContentUid: ttContentUid, filter: filter}'}" additionalAttributes="{data-page-type: '{pageTypeAjax}'}" >
			<header>
				<p>
					<f:translate key="partials_more_boxes_more.morebox1" extensionName="RkwRelated" />
					<br>
					<strong>
						<f:translate key="partials_more_boxes_more.morebox2" extensionName="RkwRelated" />
					</strong>
				</p>
			</header>
		</f:link.action>
	</f:if>
</div>