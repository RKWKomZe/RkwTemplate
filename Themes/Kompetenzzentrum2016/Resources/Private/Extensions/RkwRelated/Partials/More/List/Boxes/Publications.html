{namespace rkw=RKW\RkwRelated\ViewHelpers}
<div class="cover">
	<figure>
        <f:if condition="{pages.txRkwbasicsCover.uid}" >
            <f:then>
                <f:cObject typoscriptObjectPath="plugin.tx_rkwrelated.libs.responsivePdfThumbnail" data="{pages.txRkwbasicsCover.uid}"/>
            </f:then>
            <f:else>
                <f:if condition="{pages.txRkwbasicsFile.uid}">
                    <f:then>
                        <f:cObject typoscriptObjectPath="plugin.tx_rkwrelated.libs.responsivePdfThumbnail" data="{pages.txRkwbasicsFile.uid}"/>
                    </f:then>
                    <f:else>
                        <f:cObject typoscriptObjectPath="plugin.tx_rkwrelated.libs.responsivePdfThumbnail" data="EXT:rkw_related/Resources/Public/Images/publications-fallback.jpg"/>
                    </f:else>
                </f:if>
            </f:else>
        </f:if>
	</figure>
</div>

<header>
	<p>
        <f:if condition="<rkw:pageTranslateProperty pageUid='{pages.uid}' dbField='title' sysLanguageUid='{sysLanguageUid}' />">
            <f:then>
                <f:format.crop maxCharacters="{settingsArray.headerCrop}" respectWordBoundaries="false"><rkw:pageTranslateProperty pageUid='{pages.uid}' dbField='title' sysLanguageUid='{sysLanguageUid}' /></f:format.crop>
            </f:then>
            <f:else>
                <f:format.crop maxCharacters="{settingsArray.headerCrop}" respectWordBoundaries="false">{pages.title}</f:format.crop>
            </f:else>
        </f:if>
	</p>
</header>
<div class="box-content">
	<div class="wysiwyg">
		<p>
            <f:if condition="<rkw:pageTranslateProperty pageUid='{pages.uid}' dbField='subtitle' sysLanguageUid='{sysLanguageUid}' />">
                <f:then>
                    <f:format.crop maxCharacters="{settingsArray.contentCrop}" respectWordBoundaries="TRUE"><rkw:pageTranslateProperty pageUid='{pages.uid}' dbField='subtitle' sysLanguageUid='{sysLanguageUid}' /></f:format.crop>
                </f:then>
                <f:else>
                    <f:format.crop maxCharacters="{settingsArray.contentCrop}" respectWordBoundaries="TRUE">{pages.subtitle}</f:format.crop>
                </f:else>
            </f:if>
		</p>
	</div>
</div>
<footer>
	<p class="icon-book" title="{pages.txRkwbasicsDocumentType}">
		<f:format.crop maxCharacters="{settingsArray.footerCrop}" respectWordBoundaries="false">{pages.txRkwbasicsDocumentType.name}</f:format.crop>
	</p>
</footer>

