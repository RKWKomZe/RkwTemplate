<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

    <f:section name="Default">
        <f:if condition="{iterator.isFirst}">
            <f:else>
                <li class="nav__item {f:if(condition:item.children, then:' js-dropdown-item')} {f:if(condition:item.active, then:' is-active')}">
                    <a class="{f:if(condition:item.children, then:'nav__item-link')}" href="{item.link}" target="{item.target}" tabindex="{iterator.index}" {f:if(condition:item.children, then:' aria-haspopup="menu"')} >
                        {item.title}
                    </a>

                    <f:if condition="{item.children}">
                        <div class="nav-flyout js-toggle-dropdown">
                            <div class="hover-background">
                                <ul class="nav-flyout__dropdown">
                                    <f:for each="{item.children}" as="item" iteration="iterator">
                                        <f:render partial="ItemLevel2" section="Default" arguments="{item: item, counter: iterator.cycle}"/>
                                    </f:for>
                                </ul>
                            </div>
                        </div>
                    </f:if>
                </li>
            </f:else>
        </f:if>
    </f:section>

    <f:comment><!-- ======================================================================== --></f:comment>


    <f:section name="Mobile">
        <f:if condition="{iterator.isFirst}">
            <f:then>
                <li class="nav-mobile__item nav-mobile__item--primary nav-mobile__item--home">
                    <a href="{item.link}" target="{item.target}" tabindex="{iterator.cycle}" {f:if(condition:item.children, then:' aria-haspopup="menu"')}>
                        {item.title}
                    </a>
                </li>
            </f:then>
            <f:else>
                <li class="nav-mobile__item nav-mobile__item--primary">
                    <a href="{item.link}" target="{item.target}" tabindex="{iterator.cycle}" {f:if(condition:item.children, then:' aria-haspopup="menu"')}>
                        {item.title}
                    </a>
                    <button class="nav-mobile__item-icon">
                        <svg class="icon icon--12">
                            <use xlink:href="#ic-arrow-primary" />
                        </svg>
                    </button>
                    <f:if condition="{item.children}">
                        <ul class="nav-mobile__secondary">
                            <f:for each="{item.children}" as="item" iteration="iterator">
                                <f:render partial="ItemLevel2" section="Mobile" arguments="{item: item, counter: iterator.cycle}"/>
                            </f:for>
                        </ul>
                    </f:if>
                </li>
            </f:else>
        </f:if>
    </f:section>
</html>