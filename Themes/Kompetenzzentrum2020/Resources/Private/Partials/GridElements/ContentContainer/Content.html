<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:rkwBasics="http://typo3.org/ns/RKW/RkwBasics/ViewHelpers"
    data-namespace-typo3-fluid="true">

    <!-- table of contents as menu -->
    <f:if condition="{f:cObject(typoscriptObjectPath:'lib.txRkwTemplate.publication.parentUid')} && {f:cObject(typoscriptObjectPath:'lib.txRkwTemplate.publication.isSubPage')}">
        <f:cObject typoscriptObjectPath="lib.txRkwTemplate.navigation.toc" data="{f:cObject(typoscriptObjectPath:'lib.txRkwTemplate.publication.parentUid')}" />

        <!-- headline of current chapter -->
        <h2 class="h1">
            <em><f:translate key="{settings.themeLanguageFile}:partials.gridElements.contentContainer.content.labelChapter"/>:</em>
            <f:format.crop maxCharacters="90" respectWordBoundaries="false"><f:cObject typoscriptObjectPath="lib.txRkwTemplate.publication.currentTitle" /></f:format.crop>
        </h2>
    </f:if>

    <!-- content -->
    <rkwBasics:format.removeEmptyParagraphs>
        <f:format.html parseFuncTSPath="">
            {data.tx_gridelements_view_column_50}
        </f:format.html>
    </rkwBasics:format.removeEmptyParagraphs>

    <!-- read more nav and order form-->
    <f:if condition="{f:cObject(typoscriptObjectPath:'lib.txRkwTemplate.publication.isParentPage')}">
        <f:cObject typoscriptObjectPath="lib.txRkwTemplate.navigation.beginRead" />

        <f:if condition="{f:cObject(typoscriptObjectPath:'lib.txRkwTemplate.publication.isParentPage')}">
            <f:cObject typoscriptObjectPath="lib.txRkwTemplate.content.boxesPublication" data="{data}" />
        </f:if>
    </f:if>
    <f:if condition="{f:cObject(typoscriptObjectPath:'lib.txRkwTemplate.publication.isSubPage')}">
        <f:then>
            <f:cObject typoscriptObjectPath="lib.txRkwTemplate.navigation.readMore" />
        </f:then>
        <f:else>
            <f:if condition="{data.tx_gridelements_backend_layout} == 'contentContainerOneColPagination'">
                <f:cObject typoscriptObjectPath="lib.txRkwTemplate.navigation.readMoreOneLevel" />
            </f:if>
        </f:else>
    </f:if>

    <!-- image resources -->
    <f:if condition="! {rkwBasics:isEmpty(string:'{f:cObject(typoscriptObjectPath: \'lib.txRkwTemplate.pageInfo.imageResources\')}')}">
        <p class="media-sources {f:if(condition: '! {rkwBasics:isEmpty(string:\'{data.tx_gridelements_view_column_70}\')}', then: 'media-sources--space')}" role="contentinfo">
            <strong><f:translate key="{settings.themeLanguageFile}:partials.gridElements.contentContainer.content.imageResources" />: </strong>
            <f:cObject typoscriptObjectPath="lib.txRkwTemplate.pageInfo.imageResources" />
        </p>
    </f:if>


</html>

